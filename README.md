# UseUnitTest

##为什么要使用单元测试
任何的改变都是为了解决已经存在的问题

未使用单元测试时我们编码的流程是:
函数式编程:
分析需求==>思考实现原理==>思考编函数==>编码==>站在用户角度验证代码正确性
面向对象编程:
分析需求==>思考实现原理==>思考类布局==>编码==>站在用户角度验证代码正确性

项目发展过程中，面对需求的频繁变化和不断加入新的功能，项目代码数量越来越多
面向对象编程面临的问题:类,方法越来越多
面向函数编程面临的问题:函数越来越多,逻辑越来越复杂

当项目发展到一个阶段时,你想改动旧的业务逻辑时,将面临一个问题,对代码作出修改后你需要一个一个去验证
1:耗时费力
2:还容易忘掉某一个测试

单元测试是把这些测试记录到单元测试里面,细化到最小测试单元里面,下一次代码发生变化,只调整变化部分的测试就好了

##最普通的单元测试

##什么样的代码不好写单元测试
耦合代码不好写单元测试
解决办法:
    1> 类进行分解
    2> 构造方法依赖注入
    3> set和get方法
    4> Inversion of Control:IOC容器

##mock是什么

##测试controller
: disableOriginalConstructor()
: setMethods(null)

##参数不同时返回不同值
$map = array(
          array('a', 'b', 'c', 'd'),
          array('e', 'f', 'g', 'h')
        );
$stub->method('doSomething')
    ->will($this->returnValueMap($map));


